(add-to-list 'load-path "~/.emacs.d/slime/")

;; Load these now instead of relying on autoload
(require 'slime)

;;; SLIME & Lisp
;(setq common-lisp-hyperspec-root
;  "file:///Users/david/LispStuff/HyperSpec/")
;(setq browse-url-browser-function 'browse-url-default-macosx-browser)
(setq slime-lisp-implementations
      '((sbcl   ("/usr/bin/sbcl"))))  ; default
(setq slime-edit-definition-fallback-function 'find-tag)
(setq lisp-indent-function 'common-lisp-indent-function)
(setq slime-complete-symbol-function 'slime-fuzzy-complete-symbol)
(define-key slime-mode-map (kbd "TAB") 'slime-indent-and-complete-symbol)

(setq slime-startup-animation nil)
(slime-setup :autodoc t)
(global-set-key "\C-cs" 'slime-selector)


(setf slime-lisp-implementations
      '((sbcl ("sbcl") :coding-system utf-8-unix)
        (cmucl ("cmucl") :coding-system iso-latin-1-unix)))

;; sbcl with its own inferior-lisp buffer
(defun slime-sbcl ()
  (interactive)
  (apply #'slime-start
         (list* :buffer "*inferior-lisp-sbcl*" 
                (slime-lookup-lisp-implementation slime-lisp-implementations
                                                  'sbcl))))
